<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>ë¹„í–‰ì‹œê°„ ê¸°ë¡ë¶€ - Cloud Sync</title>
    
    <!-- Firebase SDK v9 (modular) -->
    <script type="module">
        // Firebase ì„¤ì •ì„ ì „ì—­ìœ¼ë¡œ
        window.firebaseConfig = null;
        window.firebaseApp = null;
        window.firebaseDb = null;
        window.firebaseAuth = null;
    </script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #0a1628 0%, #1e293b 100%);
            color: #e2e8f0;
            padding: 15px;
            min-height: 100vh;
        }
        .container { max-width: 1600px; margin: 0 auto; }
        
        /* Firebase Setup Panel */
        .setup-panel {
            background: rgba(59, 130, 246, 0.1);
            border: 2px solid rgba(59, 130, 246, 0.4);
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 20px;
        }
        .setup-panel h2 { color: #60a5fa; margin-bottom: 15px; }
        .setup-panel p { margin-bottom: 15px; line-height: 1.6; }
        .setup-form { display: grid; gap: 12px; margin-top: 20px; }
        .setup-input {
            padding: 12px;
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(51, 65, 85, 0.6);
            border-radius: 8px;
            color: #e2e8f0;
            font-size: 14px;
            font-family: monospace;
        }
        .setup-input::placeholder { color: #64748b; }
        
        .sync-status {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            margin-top: 10px;
        }
        .sync-status.connecting {
            background: rgba(245, 158, 11, 0.2);
            color: #fbbf24;
            border: 1px solid rgba(245, 158, 11, 0.4);
        }
        .sync-status.connected {
            background: rgba(16, 185, 129, 0.2);
            color: #34d399;
            border: 1px solid rgba(16, 185, 129, 0.4);
        }
        .sync-status.error {
            background: rgba(239, 68, 68, 0.2);
            color: #f87171;
            border: 1px solid rgba(239, 68, 68, 0.4);
        }
        
        .header {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 20px;
            box-shadow: 0 10px 40px rgba(37, 99, 235, 0.4);
        }
        .header h1 { font-size: 28px; margin-bottom: 5px; }
        
        #app { display: none; }
        #app.ready { display: block; }
        
        .main-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .main-stat-card {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.8) 100%);
            border-radius: 14px;
            padding: 20px;
            border-left: 5px solid;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        .main-stat-card h3 { 
            font-size: 12px; 
            color: #94a3b8; 
            margin-bottom: 10px;
            text-transform: uppercase;
        }
        .main-stat-card .value { 
            font-size: 32px; 
            font-weight: 700;
            font-family: 'Courier New', monospace;
        }
        .main-stat-card .subtext {
            font-size: 11px;
            color: #64748b;
            margin-top: 5px;
        }
        
        .buttons { display: flex; gap: 8px; margin-bottom: 20px; flex-wrap: wrap; }
        button, .btn-label {
            padding: 11px 18px;
            border: none;
            border-radius: 10px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-primary { background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; }
        .btn-secondary { background: rgba(59, 130, 246, 0.2); color: #60a5fa; border: 2px solid rgba(59, 130, 246, 0.4); }
        .btn-warning { background: rgba(245, 158, 11, 0.2); color: #fbbf24; border: 2px solid rgba(245, 158, 11, 0.4); }
        .btn-danger { background: rgba(239, 68, 68, 0.2); color: #f87171; border: 2px solid rgba(239, 68, 68, 0.4); }
        
        .card {
            background: rgba(30, 41, 59, 0.6);
            border-radius: 14px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(51, 65, 85, 0.6);
        }
        
        .flight-row {
            background: rgba(15, 23, 42, 0.6);
            border-radius: 10px;
            padding: 15px;
            padding-right: 110px;
            margin-bottom: 12px;
            border: 1px solid rgba(51, 65, 85, 0.4);
            transition: all 0.3s;
            position: relative;
        }
        .flight-row:hover {
            background: rgba(15, 23, 42, 0.8);
            border-color: rgba(59, 130, 246, 0.4);
        }
        .flight-info { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(85px, 1fr)); 
            gap: 10px; 
        }
        .flight-info-label { font-size: 9px; color: #64748b; margin-bottom: 2px; }
        .flight-info-value { font-size: 12px; font-weight: 600; }
        
        .action-btns {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 5px;
        }
        .action-btn {
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid rgba(59, 130, 246, 0.4);
            color: #60a5fa;
            padding: 4px 8px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 11px;
        }
        .action-btn.delete {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.4);
            color: #f87171;
        }
        
        .empty-state { text-align: center; padding: 50px 20px; color: #64748b; }
        
        .help-link {
            display: inline-block;
            margin-top: 15px;
            padding: 10px 20px;
            background: rgba(59, 130, 246, 0.2);
            color: #60a5fa;
            border-radius: 8px;
            text-decoration: none;
            font-size: 14px;
        }
        
        @media (max-width: 768px) {
            .main-stats { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Firebase Setup -->
        <div id="setupPanel" class="setup-panel">
            <h2>ğŸ”¥ Firebase í´ë¼ìš°ë“œ ë™ê¸°í™” ì„¤ì •</h2>
            <p>
                PCì™€ í°ì—ì„œ ë°ì´í„°ë¥¼ ë™ê¸°í™”í•˜ë ¤ë©´ Firebase ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.<br>
                <strong>ë¬´ë£Œ</strong>ì´ë©°, ì„¤ì •ì€ í•œ ë²ˆë§Œ í•˜ë©´ ë©ë‹ˆë‹¤!
            </p>
            
            <div class="setup-form">
                <input type="text" class="setup-input" id="apiKey" placeholder="API Key (ì˜ˆ: AIzaSyABC123...)" />
                <input type="text" class="setup-input" id="projectId" placeholder="Project ID (ì˜ˆ: my-logbook-12345)" />
                <input type="text" class="setup-input" id="appId" placeholder="App ID (ì˜ˆ: 1:1234567890:web:abc123)" />
                
                <button class="btn-primary" onclick="saveFirebaseConfig()" style="margin-top: 10px;">
                    âœ… ì €ì¥í•˜ê³  ì‹œì‘í•˜ê¸°
                </button>
                
                <button class="btn-secondary" onclick="showFirebaseGuide()" style="margin-top: 5px;">
                    ğŸ“– Firebase ì„¤ì • ë°©ë²• ë³´ê¸°
                </button>
            </div>
            
            <div id="setupStatus" style="margin-top: 15px; color: #f87171;"></div>
        </div>
        
        <div class="header">
            <h1>âœˆï¸ Pilot Flight Logbook</h1>
            <p>Professional Flight Time Recording System - Cloud Sync</p>
            <div class="sync-status connecting" id="syncStatus">
                ğŸ”„ Firebase ì„¤ì • ëŒ€ê¸° ì¤‘...
            </div>
        </div>

        <div id="app">
            <div class="main-stats">
                <div class="main-stat-card" style="border-left-color: #3b82f6;">
                    <h3>Total Block Time</h3>
                    <div class="value" style="color: #3b82f6;" id="totalBlock">0:00</div>
                    <div class="subtext" id="prevBlock">ì´ì „: 0:00</div>
                </div>
                <div class="main-stat-card" style="border-left-color: #10b981;">
                    <h3>Total PIC</h3>
                    <div class="value" style="color: #10b981;" id="totalPIC">0:00</div>
                    <div class="subtext" id="prevPIC">ì´ì „: 0:00</div>
                </div>
                <div class="main-stat-card" style="border-left-color: #8b5cf6;">
                    <h3>Night Time</h3>
                    <div class="value" style="color: #8b5cf6;" id="totalNight">0:00</div>
                    <div class="subtext" id="prevNight">ì´ì „: 0:00</div>
                </div>
                <div class="main-stat-card" style="border-left-color: #f59e0b;">
                    <h3>Instrument</h3>
                    <div class="value" style="color: #f59e0b;" id="totalInst">0:00</div>
                    <div class="subtext" id="prevInst">ì´ì „: 0:00</div>
                </div>
                <div class="main-stat-card" style="border-left-color: #ec4899;">
                    <h3>Takeoffs</h3>
                    <div class="value" style="color: #ec4899;" id="totalTO">0</div>
                    <div class="subtext" id="prevTO">ì´ì „: 0</div>
                </div>
                <div class="main-stat-card" style="border-left-color: #06b6d4;">
                    <h3>Landings</h3>
                    <div class="value" style="color: #06b6d4;" id="totalLD">0</div>
                    <div class="subtext" id="prevLD">ì´ì „: 0</div>
                </div>
            </div>

            <div class="buttons">
                <button class="btn-primary" onclick="addFlight()">â• ë¹„í–‰ ì¶”ê°€</button>
                <button class="btn-warning" onclick="testSync()">ğŸ”„ ë™ê¸°í™” í…ŒìŠ¤íŠ¸</button>
                <button class="btn-danger" onclick="resetAll()">ğŸ”„ ì „ì²´ ë¦¬ì…‹</button>
            </div>

            <div class="card">
                <h2 style="margin-bottom: 18px; font-size: 19px;">ë¹„í–‰ ê¸°ë¡ (<span id="count">0</span>)</h2>
                <div id="list">
                    <div class="empty-state">
                        <div style="font-size: 48px; margin-bottom: 12px;">âœˆï¸</div>
                        <p>ë¹„í–‰ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK (CDN) -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';
        import { getFirestore, collection, doc, setDoc, getDoc, getDocs, deleteDoc, onSnapshot } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';
        import { getAuth, signInAnonymously, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';
        
        console.log('ğŸ”¥ Firebase SDK ë¡œë“œ ì™„ë£Œ');
        
        // ì „ì—­ ë³€ìˆ˜
        let db = null;
        let auth = null;
        let userId = null;
        let flights = [];
        let prev = {block:0,pic:0,picSupv:0,coPilot:0,tr:0,night:0,inst:0,to:0,ld:0};
        let unsubscribe = null;
        
        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
        function pad(n) { return String(n).padStart(2, '0'); }
        function toDisplay(dec) {
            if (!dec) return '0:00';
            const h = Math.floor(dec);
            const m = Math.round((dec - h) * 60);
            return `${h}:${pad(m)}`;
        }
        
        function setSyncStatus(status, text) {
            const el = document.getElementById('syncStatus');
            el.className = `sync-status ${status}`;
            el.textContent = text;
        }
        
        // Firebase ì´ˆê¸°í™”
        async function initFirebase(config) {
            try {
                console.log('Firebase ì´ˆê¸°í™” ì‹œì‘...', config);
                setSyncStatus('connecting', 'ğŸ”„ ì—°ê²° ì¤‘...');
                
                // Firebase ì•± ì´ˆê¸°í™”
                const app = initializeApp({
                    apiKey: config.apiKey,
                    authDomain: `${config.projectId}.firebaseapp.com`,
                    projectId: config.projectId,
                    storageBucket: `${config.projectId}.appspot.com`,
                    appId: config.appId
                });
                
                console.log('âœ… Firebase ì•± ì´ˆê¸°í™” ì™„ë£Œ');
                
                // Firestore ì´ˆê¸°í™”
                db = getFirestore(app);
                auth = getAuth(app);
                
                console.log('âœ… Firestore ì´ˆê¸°í™” ì™„ë£Œ');
                
                // ìµëª… ë¡œê·¸ì¸
                const userCredential = await signInAnonymously(auth);
                userId = userCredential.user.uid;
                
                console.log('âœ… ì¸ì¦ ì™„ë£Œ. User ID:', userId);
                
                // ë°ì´í„° ë¡œë“œ
                await loadData();
                
                // ì‹¤ì‹œê°„ ë™ê¸°í™” ì„¤ì •
                setupRealtimeSync();
                
                // UI í‘œì‹œ
                document.getElementById('setupPanel').style.display = 'none';
                document.getElementById('app').classList.add('ready');
                setSyncStatus('connected', 'â˜ï¸ í´ë¼ìš°ë“œ ì—°ê²°ë¨');
                
                console.log('âœ… Firebase ì´ˆê¸°í™” ì™„ë£Œ!');
                
            } catch (error) {
                console.error('âŒ Firebase ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
                setSyncStatus('error', 'âŒ ì—°ê²° ì‹¤íŒ¨');
                document.getElementById('setupStatus').textContent = 
                    `ì˜¤ë¥˜: ${error.message}\n\nì„¤ì •ì„ í™•ì¸í•˜ê³  ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”.`;
            }
        }
        
        // ë°ì´í„° ë¡œë“œ
        async function loadData() {
            try {
                console.log('ë°ì´í„° ë¡œë“œ ì‹œì‘...');
                
                // ë¹„í–‰ ê¸°ë¡ ë¡œë“œ
                const flightsRef = collection(db, 'users', userId, 'flights');
                const snapshot = await getDocs(flightsRef);
                
                flights = [];
                snapshot.forEach(doc => {
                    flights.push({
                        id: doc.id,
                        ...doc.data()
                    });
                });
                
                console.log(`âœ… ${flights.length}ê°œ ë¹„í–‰ ê¸°ë¡ ë¡œë“œë¨`);
                
                // ì´ì „ ëˆ„ì  ë°ì´í„° ë¡œë“œ
                const prevRef = doc(db, 'users', userId, 'settings', 'previous');
                const prevDoc = await getDoc(prevRef);
                
                if (prevDoc.exists()) {
                    prev = prevDoc.data();
                    console.log('âœ… ì´ì „ ëˆ„ì  ë°ì´í„° ë¡œë“œë¨');
                }
                
                render(flights);
                
            } catch (error) {
                console.error('âŒ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
            }
        }
        
        // ì‹¤ì‹œê°„ ë™ê¸°í™”
        function setupRealtimeSync() {
            const flightsRef = collection(db, 'users', userId, 'flights');
            
            unsubscribe = onSnapshot(flightsRef, (snapshot) => {
                console.log('ğŸ”„ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ê°ì§€');
                
                flights = [];
                snapshot.forEach(doc => {
                    flights.push({
                        id: doc.id,
                        ...doc.data()
                    });
                });
                
                render(flights);
            });
            
            console.log('âœ… ì‹¤ì‹œê°„ ë™ê¸°í™” í™œì„±í™”');
        }
        
        // ë¹„í–‰ ì¶”ê°€
        async function saveFlight(flightData) {
            try {
                setSyncStatus('connecting', 'ğŸ”„ ì €ì¥ ì¤‘...');
                
                const flightId = flightData.id || `flight_${Date.now()}`;
                const flightRef = doc(db, 'users', userId, 'flights', flightId);
                
                await setDoc(flightRef, flightData);
                
                console.log('âœ… ë¹„í–‰ ì €ì¥ ì™„ë£Œ:', flightId);
                setSyncStatus('connected', 'â˜ï¸ í´ë¼ìš°ë“œ ì—°ê²°ë¨');
                
            } catch (error) {
                console.error('âŒ ì €ì¥ ì‹¤íŒ¨:', error);
                setSyncStatus('error', 'âŒ ì €ì¥ ì‹¤íŒ¨');
                alert('ì €ì¥ ì‹¤íŒ¨: ' + error.message);
            }
        }
        
        // ë¹„í–‰ ì‚­ì œ
        async function deleteFlight(flightId) {
            try {
                setSyncStatus('connecting', 'ğŸ”„ ì‚­ì œ ì¤‘...');
                
                const flightRef = doc(db, 'users', userId, 'flights', flightId);
                await deleteDoc(flightRef);
                
                console.log('âœ… ë¹„í–‰ ì‚­ì œ ì™„ë£Œ:', flightId);
                setSyncStatus('connected', 'â˜ï¸ í´ë¼ìš°ë“œ ì—°ê²°ë¨');
                
            } catch (error) {
                console.error('âŒ ì‚­ì œ ì‹¤íŒ¨:', error);
                alert('ì‚­ì œ ì‹¤íŒ¨: ' + error.message);
            }
        }
        
        // ë Œë”ë§
        function render(list) {
            document.getElementById('count').textContent = list.length;
            
            if (list.length === 0) {
                document.getElementById('list').innerHTML = 
                    '<div class="empty-state"><div style="font-size:48px;">âœˆï¸</div><p>ë¹„í–‰ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p></div>';
                updateStats();
                return;
            }
            
            document.getElementById('list').innerHTML = list.slice().reverse().map(f => `
                <div class="flight-row">
                    <div class="action-btns">
                        <button class="action-btn delete" onclick="window.deleteFlightHandler('${f.id}')">ğŸ—‘ï¸</button>
                    </div>
                    <div class="flight-info">
                        <div><div class="flight-info-label">ë‚ ì§œ</div><div class="flight-info-value">${f.date}</div></div>
                        <div><div class="flight-info-label">í•­ê³µê¸°</div><div class="flight-info-value">${f.aircraft}</div></div>
                        <div><div class="flight-info-label">êµ¬ê°„</div><div class="flight-info-value">${f.from}â†’${f.to}</div></div>
                        <div><div class="flight-info-label">BLOCK</div><div class="flight-info-value" style="color:#60a5fa;">${toDisplay(f.blockTime)}</div></div>
                    </div>
                </div>
            `).join('');
            
            updateStats();
        }
        
        function updateStats() {
            let block=0, pic=0, picSupv=0, night=0, inst=0, to=0, ld=0;
            flights.forEach(f => {
                block += f.blockTime || 0;
                pic += f.pic || 0;
                picSupv += f.picSupv || 0;
                night += f.night || 0;
                inst += f.instTime || 0;
                to += f.toCount || 0;
                ld += f.ldCount || 0;
            });
            
            document.getElementById('totalBlock').textContent = toDisplay(block + prev.block);
            document.getElementById('totalPIC').textContent = toDisplay(pic + picSupv + prev.pic + prev.picSupv);
            document.getElementById('totalNight').textContent = toDisplay(night + prev.night);
            document.getElementById('totalInst').textContent = toDisplay(inst + prev.inst);
            document.getElementById('totalTO').textContent = to + prev.to;
            document.getElementById('totalLD').textContent = ld + prev.ld;
        }
        
        // ì „ì—­ í•¨ìˆ˜ë¡œ ë…¸ì¶œ
        window.saveFirebaseConfig = function() {
            const apiKey = document.getElementById('apiKey').value.trim();
            const projectId = document.getElementById('projectId').value.trim();
            const appId = document.getElementById('appId').value.trim();
            
            if (!apiKey || !projectId || !appId) {
                alert('ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }
            
            const config = { apiKey, projectId, appId };
            
            // LocalStorageì— ì €ì¥
            localStorage.setItem('firebaseConfig', JSON.stringify(config));
            
            // Firebase ì´ˆê¸°í™”
            initFirebase(config);
        };
        
        window.addFlight = async function() {
            const testFlight = {
                id: `flight_${Date.now()}`,
                date: new Date().toISOString().split('T')[0],
                aircraft: 'B738',
                from: 'RKSI',
                to: 'RJAA',
                blockTime: 4.5,
                pic: 0,
                picSupv: 4.5,
                coPilot: 0,
                tr: 0,
                night: 3.0,
                instTime: 3.5,
                toCount: 1,
                ldCount: 1,
                remark: 'Test flight'
            };
            
            await saveFlight(testFlight);
            alert('âœ… í…ŒìŠ¤íŠ¸ ë¹„í–‰ ì¶”ê°€ë¨!\n\në‹¤ë¥¸ ê¸°ê¸°ì—ì„œ ìƒˆë¡œê³ ì¹¨í•´ë³´ì„¸ìš”.');
        };
        
        window.deleteFlightHandler = async function(id) {
            if (confirm('ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                await deleteFlight(id);
            }
        };
        
        window.testSync = function() {
            alert('ğŸ”„ ë™ê¸°í™” í…ŒìŠ¤íŠ¸\n\n1. ì´ ê¸°ê¸°ì—ì„œ ë¹„í–‰ ì¶”ê°€\n2. ë‹¤ë¥¸ ê¸°ê¸°ì—ì„œ ìƒˆë¡œê³ ì¹¨\n3. ê°™ì€ ë°ì´í„°ê°€ ë³´ì´ë©´ ì„±ê³µ!');
        };
        
        window.resetAll = async function() {
            if (!confirm('âš ï¸ ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
            if (!confirm('ì •ë§ í™•ì‹¤í•©ë‹ˆê¹Œ?')) return;
            
            try {
                setSyncStatus('connecting', 'ğŸ”„ ì‚­ì œ ì¤‘...');
                
                const flightsRef = collection(db, 'users', userId, 'flights');
                const snapshot = await getDocs(flightsRef);
                
                const deletePromises = [];
                snapshot.forEach(doc => {
                    deletePromises.push(deleteDoc(doc.ref));
                });
                
                await Promise.all(deletePromises);
                
                flights = [];
                render(flights);
                
                setSyncStatus('connected', 'â˜ï¸ í´ë¼ìš°ë“œ ì—°ê²°ë¨');
                alert('âœ… ì „ì²´ ë¦¬ì…‹ ì™„ë£Œ!');
                
            } catch (error) {
                console.error('âŒ ë¦¬ì…‹ ì‹¤íŒ¨:', error);
                alert('ë¦¬ì…‹ ì‹¤íŒ¨: ' + error.message);
            }
        };
        
        window.showFirebaseGuide = function() {
            window.open('https://console.firebase.google.com', '_blank');
            alert('ğŸ“– Firebase ì„¤ì • ë°©ë²•:\n\n1. Firebase Consoleì—ì„œ ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±\n2. Firestore Database í™œì„±í™” (í…ŒìŠ¤íŠ¸ ëª¨ë“œ)\n3. ì›¹ ì•± ì¶”ê°€\n4. API Key, Project ID, App ID ë³µì‚¬\n5. ì—¬ê¸°ì— ë¶™ì—¬ë„£ê¸°!');
        };
        
        // ì €ì¥ëœ ì„¤ì • í™•ì¸
        const savedConfig = localStorage.getItem('firebaseConfig');
        if (savedConfig) {
            try {
                const config = JSON.parse(savedConfig);
                console.log('ì €ì¥ëœ Firebase ì„¤ì • ë°œê²¬');
                
                // ìë™ìœ¼ë¡œ ì…ë ¥
                document.getElementById('apiKey').value = config.apiKey;
                document.getElementById('projectId').value = config.projectId;
                document.getElementById('appId').value = config.appId;
                
                // ìë™ ì´ˆê¸°í™”
                initFirebase(config);
            } catch (e) {
                console.error('ì„¤ì • ë¡œë“œ ì‹¤íŒ¨:', e);
            }
        }
    </script>
</body>
</html>
